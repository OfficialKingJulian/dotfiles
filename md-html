#!/usr/bin/env perl6
#    BY JULIAN

my $edited-line;
my $newfile = open "testfile.html", :a;
for 'post.md'.IO.lines -> $line {
  #   if the first char is not # 
  #   if the first char is #
  #   if the second char is #
  #   if the third char is #
  #   if the fourth char is #
  #   if the fifth char is #
  #   if the sixth char is #
  #   <ul><li> if the first char is -, *, +
  #   [ignore ordered lists for the moment]
  
  #   if any char is `
  #   <i> if any char is * or _ 
  #   <b> if any char is ** or __
  #   <span class="strikethrough"> if ~~
 
  # MOST COMPLEX
  #   <img src="" alt="" /> if ![x](y)
  #   <a href="y">x</a> if [x](y)
  #
  #   future dev; tables
  
  # hashspace found
  

  my $h-counter = 6;
  if $line ~~ /\#**1..6\s/ {
    loop {
      my regex hcounter {
        <{
          "<-[$h-counter]>"
         }>
      }
      if $line ~~ /^\#{<hcounter>}\s/ {
        $newfile.print("<h$h-counter>" ~ $line ~ "</h$h-counter>\n\n");
      } else {
        say "rip";
      }
      $h-counter = $h-counter - 1;
      last if $h-counter == 0;
    }
  }

  # h1
  #if $line ~~ /\#\s/ {
    #  $edited-line = "<h1>" ~ $line ~ "</h1>"; 
    #$newfile.print("$edited-line\n");
    #} elsif $line ~~ /\#\#\s/ {
      #$edited-line = "<h2>" ~ $line ~ "</h2>"; 
      # }
}
$newfile.close;

